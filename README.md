# Задание ЕМК IV Международная олимпиада "Проектирование и разработка баз данных"

**Задание IV Международной олимпиады "Проектирование и разработка баз данных"**

1. **Создание ER - диаграммы базы данных движения городского общественного транспорта.**

Предметная область базы данных -  движение городского общественного транспорта.  База данных должна хранить актуальную информацию обо всех маршрутах, расписании движения транспорта и видах транспорта.

База данных должна содержать информацию:

 - о видах городского общественного транспорта (основными видами транспорта являются электропоезда и автобусы, трамваи, троллейбусы и маршрутные такси);

 - об остановках городского общественного транспорта (название, местоположение/координаты, наличие на остановке павильона);

 - о маршрутах (номер маршрута, путь следования(район начала следования, район конца следования маршрута), общее время движения по маршруту, перевозчик, дни следования);

 - о графике выхода транспорта по заданному маршруту в течение дня (рейсах);

 - об изменениях в графике выхода транспорта с указанием даты, времени и причины изменения;

 - о перевозчиках, которые обеспечивают выход транспорта на маршрут;

 - о сотрудниках, обеспечивающих работоспособность маршрутов: водителях, кондукторах;

 - о графике выхода на маршрут сотрудников перевозчика.

Для того, чтобы сформировать маршрут, необходимо иметь возможность добавлять станции/остановки к маршруту, а также задавать  время движения между остановками, порядок следования остановок в маршруте, расстояние от предыдущей остановки.

База данных должна предусматривать наличие административной части. В административной части предусмотрено редактирование информации о пользователях, о маршрутах. Для каждого пользователя задается роль – оператор,  администратор и суперадминистратор.

Оператор может работать только с маршрутами, приписанными к их группе (маршруты  перевозчика).

Администратор может редактировать пользователей только своей группы.

Суперадминистратор имеет любые права, он может создавать новые группы и пользователей для них.

Базу данных необходимо заполнить. Таблицы -  справочники должны содержать не менее 5 записей, а основные таблицы – не менее 15 записей. Количество данных в таблицах должно обеспечивать выдачу не менее 3 - 5 записей по каждому запросу задания.

**2.     Создание дампа на основании ER - диаграммы**

**3.     Выполнение запросов:**

1. При выборе вида городского общественного транспорта, выводится информация о всех маршрутах этого вида транспорта в порядке возрастания номера маршрута;
2. Вывод подробных характеристик маршрутов и типа транспорта, проходящего через выбранную остановку;
3. Вывод информации о расписании движения заданного маршрута транспорта маршрута (время прибытия и отправления, дни следования);
4. Вывод полной информации о маршруте (путь следования, остановки);
5. Вывод количества маршрутов, проходящих через заданную остановку, и информации о наличии на остановке павильона.
6. Вывод информации о выбранном рейсе – остановку, время прибытия и отправления, время движения и пройденную длину от начальной остановки.
7. Вывод информации о маршруте (перевозчик и вид транспорта);
8. Вывод полной информации о маршрутах, принадлежащих выбранному перевозчику;
9. Добавление нового пользователя;
10. Изменение статуса пользователей своей группы;
11. Создание новой группы пользователей;
12. Добавление рейса к заданному маршруту для выбранного перевозчика;
13. Вывод маршрутов, которые не вышли в рейс по расписанию, с указанием причины;
14. Вычислить сколько за месяц совершенно рейсов по определённому маршруту;
15. Сформировать в отдельную таблицу о рейсах, не вышедших вовремя в рейс, с указанием даты и причины;
16. На определенную дату для всех номеров маршрутов выдать информацию о количестве автобусов, обслуживающих каждый маршрут;
17. По итогам работы за месяц посчитать количество смен, отработанных каждым водителем и кондуктором.
